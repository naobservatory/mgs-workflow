/************************************************
| CONFIGURATION FILE FOR NAO VIRAL MGS WORKFLOW |
************************************************/

params {
    mode = "run_validation"

    // Directories
    base_dir = "./" // Parent for working and output directories (can be S3)
    ref_dir = "s3://nao-testing/index/20250314/output/" // Reference/index directory (generated by index workflow)

    // Files
    viral_tsv = ""
    viral_fastq = ""

    // BLAST
    blast_db_prefix = "nt_others"
    blast_viral_fraction = 0.9 // Fraction of putative host-infecting virus reads to BLAST vs nt (0 = don't run BLAST)
    blast_min_frac = 0.9 // Keep BLAST hits whose bitscore is at least this fraction of the best bitscore for that query
    blast_max_rank = 5 // Keep BLAST hits whose dense bitscore rank for that query is at most this value
    blast_perc_id = 60 // Percent identity threshold for BLAST hits
    blast_qcov_hsp_perc = 30 // Query coverage threshold for BLAST hits

    // Other
    drop_unpaired = false // Whether to drop reads from TSV that lack a pair sequence (otherwise replace with "N")
    random_seed = "0" // Random seed for testing non-deterministic processes. Leave blank in non-test settings.
}

includeConfig "${projectDir}/configs/containers.config"
includeConfig "${projectDir}/configs/profiles.config"
